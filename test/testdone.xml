<test>
    <test-case id="1">
    <!-- Представление на старте, обращение по имени, побуждение к диалогу -->
        <!--test-case 1.1: Если пользователь еще не общался с ботом -->
        <q>/start</q>
        <a>Здравствуйте, я Мария, бот туристической компании Just Tour.</a>
        <a>Как я могу к Вам обращаться?</a>
        <q>Антон</q>
        <a>Антон, приятно познакомиться!</a>
        <a>Я расcказываю о погоде в разных городах мира и могу оформить заявку на подбор тура.</a>
        <a>Что Вас интересует?</a>
        <!--test-case 1.2: Если пользователь уже общался с ботом -->
        <q>/start</q>
        <a>Здравствуйте, Антон. Это Мария, бот Just Tour.</a>
        <a>Я расcказываю о погоде в разных городах мира и могу оформить заявку на подбор тура.</a>
        <a>Что Вас интересует?</a>
    </test-case>
    
    <test-case id="2">
    <!-- По запросу погоды переход к прогнозу из любой точки диалога -->
        <!--test-case 2.1: Запрос погоды из стейта /Name -->
        <q>/start</q>
        <a>Здравствуйте, я Мария, бот туристической компании Just Tour.</a>
        <a>Как я могу к Вам обращаться?</a>
        <q>Расскажи о погоде</q>
        <a>Где смотрим погоду? Назовите город или страну</a>
        <!--test-case 2.2: Запрос погоды из стейта /Menu -->
        <state>/Menu/Choose</state>
        <q>Расскажи о погоде</q>
        <a>Где смотрим погоду? Назовите город или страну</a>
        <!--test-case 2.3: Запрос погоды из стейта /Wheather -->
        <state>/Weather/Step5</state>
        <q>Расскажи о погоде</q>
        <a>Где смотрим погоду? Назовите город или страну</a>
        <!--test-case 2.4: Запрос погоды из стейта /Trip -->
        <state>/Trip/Step2</state>
        <q>Расскажи о погоде</q>
        <a>Где смотрим погоду? Назовите город или страну</a>
    </test-case>
    
    <test-case id="3.1" integration="true">
    <!--При переходе к погоде проверка что пользователь уже вводил данные - город "Москва" -->
    <!--Если температура воздуха средняя, задается вопрос, действительно ли ... поездку с холодным климатом-->
    <!--Если пользователь отказывается ... начинать оформление нового тура, бот предлагает узнать погоду в другой стране/городе-->
        <context var="session"> 
            {
                "place": {"type": "city", "name": "Москва"},
                "coordinates": {"lat": "55.75222", "lon": "37.61556"}
            }
        </context>
        <state>/Menu/Begin</state>
        <q>Погода</q>
        <a>На какую дату смотрим прогноз погоды?</a>
        <q>9 мая</q>
        <a>Не могу посмотреть прогноз больше, чем на 16 дней. Узнать какая погода была год назад 9 мая?</a>
        <q>Да</q>
        <a>Погода в городе Москва в прошлом году на 9 мая была: 6.8°C. Ветер 5.3 м/с, порывы до 12 м/с.</a>
        <a>Вы действительно планируете поездку в страну с умеренным климатом?</a>
        <q>Нет</q>
        <a>Давайте посмотрим климат в другом месте?</a>
    </test-case>

    <test-case id="3.2" integration="true">
    <!--При переходе к погоде проверка что пользователь уже вводил данные - дата "вчера" -->
    <!--Если температура воздуха низкая, задается вопрос, действительно ли ... поездку с холодным климатом-->
    <!--Если пользователь отвечает утвердительно, бот предлагает оформить тур в страну, которой человек интересовался -->
        <context var="session">
            {
                "date": {"year": "2022", "month": "11", "day": "23", "timestamp": 1669161600000}
            }
        </context>
        <dateTime>2022-11-22 12:00:00</dateTime>
        <state>/Menu/Begin</state>
        <q>Погода</q>
        <a>Где смотрим погоду? Назовите город или страну</a>
        <q>Москва</q>
        <a>Погода в городе Москва на завтра: облачно, -0.4°C. Ветер 2 м/с, порывы до 5 м/с.</a>
        <a>Вы действительно планируете поездку в страну с холодным климатом?</a>
        <q>Да</q>
        <a>Давайте оформим заявку на тур в этот город?</a>
        <q>Давайте</q>
        <a>Для оформления заявки я задам вам несколько вопросов. Обязательными будут только Ваше имя и телефон</a>
        <a>Пожалуйста, назовите Ваше имя</a>
    </test-case>
        

    <test-case id="3.3" integration="true">
    <!--При переходе к погоде проверка что пользователь уже вводил данные - дата "2 июля", город - Анкара -->
    <!--Если температура воздуха высокая, задается вопрос, действительно ли ... поездку с жарким климатом-->
    <!--Если пользователь отвечает утвердительно, бот предлагает продолжить оформление уже начатой заявки -->
    <!--При продолжении с начатой заявкой названные пользователем параметры заявки спрашивать не надо -->
        <context var="session"> 
            {
                "place": {"type": "city", "name": "Анкара"},
                "coordinates": {"lat": "39.91987", "lon": "32.85427"},
                "date": {"year": "2023", "month": "7", "day": "2", "timestamp": 1688256000000},
                "tripStep": "/Trip/Step4"
            }
        </context>
        <dateTime>2022-11-22 12:00:00</dateTime>
        <state>/Menu/Begin</state>
        <q>Погода</q>
        <a>Не могу посмотреть прогноз больше, чем на 16 дней. Узнать какая погода была год назад 2 июля?</a>
        <q>Да</q>
        <a>Погода в городе Анкара в прошлом году на 2 июля была: 28.7°C. Ветер 1.7 м/с, порывы до 6.5 м/с.</a>
        <a>Вы действительно планируете поездку в страну с жарким климатом?</a>
        <q>Да</q>
        <a>Продолжим оформление заявки на тур?</a>
        <q>Да</q>
        <a>Выберите длительность поездки</a>
    </test-case>


        
</test> 